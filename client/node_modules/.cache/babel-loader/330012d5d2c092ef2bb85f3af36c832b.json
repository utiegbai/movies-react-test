{"ast":null,"code":"import _objectSpread from \"/Users/stan/Desktop/movie-bank/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/stan/Desktop/movie-bank/client/src/context.js\";\nimport React, { createContext, Component } from 'react';\nconst Context = createContext();\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'SEARCH_SHOWS':\n      return _objectSpread({}, state, {\n        shows: action.payload,\n        heading: 'Search Results'\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport class Provider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      shows: [],\n      loading: false,\n      heading: 'Shows',\n      dispatch: action => this.setState(state => reducer(state, action))\n    };\n  }\n\n  componentDidMount() {\n    const fetchShows = async () => {\n      this.setState({\n        loading: true\n      });\n      const res = await fetch(`${process.env.REACT_APP_API_URL}/shows`);\n      const shows = await res.json();\n      this.setState({\n        shows: shows,\n        loading: false\n      });\n    };\n\n    fetchShows();\n  }\n\n  render() {\n    return React.createElement(Context.Provider, {\n      value: this.state,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, this.props.children);\n  }\n\n}\nexport const Consumer = Context.Consumer;","map":{"version":3,"sources":["/Users/stan/Desktop/movie-bank/client/src/context.js"],"names":["React","createContext","Component","Context","reducer","state","action","type","shows","payload","heading","Provider","loading","dispatch","setState","componentDidMount","fetchShows","res","fetch","process","env","REACT_APP_API_URL","json","render","props","children","Consumer"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,SAA/B,QAAgD,OAAhD;AAEA,MAAMC,OAAO,GAAGF,aAAa,EAA7B;;AAEA,MAAMG,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACjC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,cAAL;AACE,+BACKF,KADL;AAEEG,QAAAA,KAAK,EAAEF,MAAM,CAACG,OAFhB;AAGEC,QAAAA,OAAO,EAAE;AAHX;;AAKF;AACE,aAAOL,KAAP;AARJ;AAUD,CAXD;;AAaA,OAAO,MAAMM,QAAN,SAAuBT,SAAvB,CAAiC;AAAA;AAAA;AAAA,SACtCG,KADsC,GAC9B;AACNG,MAAAA,KAAK,EAAE,EADD;AAENI,MAAAA,OAAO,EAAE,KAFH;AAGNF,MAAAA,OAAO,EAAE,OAHH;AAING,MAAAA,QAAQ,EAAEP,MAAM,IAAI,KAAKQ,QAAL,CAAcT,KAAK,IAAID,OAAO,CAACC,KAAD,EAAQC,MAAR,CAA9B;AAJd,KAD8B;AAAA;;AAQtCS,EAAAA,iBAAiB,GAAI;AACnB,UAAMC,UAAU,GAAG,YAAY;AAC7B,WAAKF,QAAL,CAAc;AAAEF,QAAAA,OAAO,EAAE;AAAX,OAAd;AAEA,YAAMK,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,QAAlC,CAAvB;AACA,YAAMb,KAAK,GAAG,MAAMS,GAAG,CAACK,IAAJ,EAApB;AAEA,WAAKR,QAAL,CAAc;AAAEN,QAAAA,KAAK,EAAEA,KAAT;AAAgBI,QAAAA,OAAO,EAAE;AAAzB,OAAd;AACD,KAPD;;AASAI,IAAAA,UAAU;AACX;;AAEDO,EAAAA,MAAM,GAAI;AACR,WACE,oBAAC,OAAD,CAAS,QAAT;AAAkB,MAAA,KAAK,EAAE,KAAKlB,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKmB,KAAL,CAAWC,QADd,CADF;AAKD;;AA3BqC;AA8BxC,OAAO,MAAMC,QAAQ,GAAGvB,OAAO,CAACuB,QAAzB","sourcesContent":["import React, { createContext, Component } from 'react';\n\nconst Context = createContext();\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'SEARCH_SHOWS':\n      return {\n        ...state,\n        shows: action.payload,\n        heading: 'Search Results'\n      };\n    default:\n      return state;\n  }\n}\n\nexport class Provider extends Component {\n  state = {\n    shows: [],\n    loading: false,\n    heading: 'Shows',\n    dispatch: action => this.setState(state => reducer(state, action))\n  };\n\n  componentDidMount () {\n    const fetchShows = async () => {\n      this.setState({ loading: true });\n\n      const res = await fetch(`${process.env.REACT_APP_API_URL}/shows`);\n      const shows = await res.json();\n    \n      this.setState({ shows: shows, loading: false });\n    }\n\n    fetchShows()\n  }\n\n  render () {\n    return (\n      <Context.Provider value={this.state}>\n        {this.props.children}\n      </Context.Provider>\n    )\n  }\n}\n\nexport const Consumer = Context.Consumer"]},"metadata":{},"sourceType":"module"}